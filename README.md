# Экономический новостной бот

Этот бот предназначен для отправки экономических новостей из различных источников подписчикам в Telegram.

## Функциональность

### Получение новостей

Бот периодически проверяет новости с указанных источников (Lenta.ru, РИА и РБК).

Новости, которые не были ранее отправлены подписчикам, рассылаются через Telegram.

### Управление подпиской

Пользователи могут подписаться и отписаться от рассылки новостей с помощью команды `/subscribe` (тестовая команда, работает только для источника Lenta.ru).


### Настройка

Пользователи могут выбирать источник новостей по умолчанию.

Можно установить количество новостей, которые будут отображаться за раз.

## Структура проекта

Проект состоит из следующих файлов:

- **main.py**: Основной файл бота, содержащий код для взаимодействия с Telegram API, обработки команд и рассылки новостей.
- **dBase.py**: Файл, содержащий класс Database для работы с базой данных SQLite.
- **lenta.py, ria.py, rbk.py**: Модули для парсинга новостей с соответствующих сайтов.

## Используемые таблицы в базе данных

- **users**: Хранит информацию о пользователях бота, включая их идентификатор чата, выбранный источник новостей по умолчанию и количество новостей, отображаемых за раз.
- **user_actions**: Содержит записи о действиях пользователей.
- **subscribers**: Список чат-идентификаторов пользователей, подписанных на рассылку новостей.
- **news**: Хранит информацию о новостях.

## Команды

- **/start**: Начать использование бота и получить список команд.
- **/subscribe**: Подписаться на рассылку новостей (тестовая команда, работает только для источника Lenta.ru).
- **/unsubscribe**: Отписаться от рассылки новостей.
- **/update_n**: Установить количество новостей, отображаемых за раз.
- **/get**: Получить новости из выбранного источника.
- **/get_news**: Получить случайные новости из случайного источника.
- **/default**: Показать или изменить текущий источник новостей.

## Включение бота

Чтобы включить бота:

1. Установите все необходимые зависимости, указанные в файле `requirements.txt`, с помощью команды `pip install -r requirements.txt`.
2. Укажите свой API-токен Telegram в переменной `API_TOKEN` в файле `main.py`.
3. Запустите бота, выполнив файл `main.py`.

Пользователи могут подписаться на рассылку новостей, отправив команду `/subscribe`, а также настроить источник новостей и количество новостей за раз с помощью соответствующих команд.
